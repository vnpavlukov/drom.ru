# drom.ru парсер

Парсер написан на языке Python 3.8 для сбора информации с сайта drom.ru объявлений о продаже машин 

- Формат выходных данных: .json .xlsx

**Содержание таблицы:**
- URL объявления
- бренд
- модель
- год выпуска 
- мощность автомобиля
- стоимость 
- город продажи
- дата объявления
- продавец ("Карточка продавца", "Продажа от собственника", None)
- пробег
- описание

**Функционал:**

1. Программа запрашивает URL с выставленными параметрами, либо предлагает значение по умолчанию.
2. Проверяет в папке  data наличие файла с данными на текующую дату и час в формате .json и берет оттуда данные, либо создает файл если его нет.
3. Начинает постраничный парсинг данных с объявлениями, заходя на страницу каждого объявления и докачивая необходимые данные
(с задержкой 1 сек), если объявление есть в базе, пропускает его. 
4. После окончания парсинга предлагает экспортировать данные в .xlsx формате


**Особенности программы:**
1. Делает бэкап данных каждые 20 объявления, что позволяет скачивать докачивать данные в случае ошибки
2. Благодаря бэкапу позволяет сильно сэкономить время


**Сложности:**
Не удалось спарсить номера
1. на подтвержденный старый аккаунт даёт в первый день запросить 150 контактов, в последующие дни по 55 контактов
2. на новые аккаунты с подтвержденной почтой и номером телефона даёт запроссить 1-3 контакта, далее блокирует, каждая авторизация проводилась с подменой ip
